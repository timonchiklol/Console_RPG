{% extends "base.html" %}

{% block title %}{{ 'character_creation'|trans }}{% endblock %}

{% block content %}
{% raw %}
<div id="character-app" v-cloak class="container mx-auto p-4">
  <h1 class="medieval text-3xl mb-4" data-trans="character_creation"></h1>
  <div class="mb-4">
    <h2 class="medieval text-2xl mb-2" data-trans="select_race"></h2>
    <div class="grid grid-cols-2 gap-4">
      <div v-for="(stats, race) in races" :key="race" @click="selectRace(race)" 
           class="p-4 rounded-lg cursor-pointer border" 
           :class="selectedRace === race ? 'border-red-500 bg-gray-800' : 'border-gray-700 hover:border-gray-500'">
        <h3 class="medieval text-xl">{{ race }}</h3>
        <p>
          <span data-trans="hp"></span>: {{ stats.hp }}, 
          <span data-trans="damage"></span>: {{ stats.damage }}, 
          <span data-trans="gold"></span>: {{ stats.gold }}
        </p>
      </div>
    </div>
  </div>
  <div class="mb-4">
    <h2 class="medieval text-2xl mb-2" data-trans="select_class"></h2>
    <div class="grid grid-cols-2 gap-4">
      <div v-for="(stats, className) in classes" :key="className" @click="selectClass(className)" 
           class="p-4 rounded-lg cursor-pointer border" 
           :class="selectedClass === className ? 'border-red-500 bg-gray-800' : 'border-gray-700 hover:border-gray-500'">
        <h3 class="medieval text-xl">{{ className }}</h3>
        <p>
          <span data-trans="hp_bonus"></span>: +{{ stats.hp_bonus }}, 
          <span data-trans="gold_bonus"></span>: +{{ stats.gold_bonus }}, 
          <span data-trans="magic"></span>: {{ stats.magic }}
        </p>
      </div>
    </div>
  </div>
  <div>
    <button @click="createCharacter" 
            :disabled="!selectedRace || !selectedClass || submitted" 
            :class="['w-full', 'bg-red-700', (!selectedRace || !selectedClass || submitted) ? 'opacity-50 cursor-not-allowed' : 'hover:bg-red-600', 'px-4', 'py-2', 'rounded-lg', 'medieval']"
            data-trans="begin_adventure">
    </button>
  </div>
</div>
{% endraw %}
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/character.js') }}"></script>
{% endblock %} 